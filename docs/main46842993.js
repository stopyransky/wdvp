!function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)i=l[d],r[i]&&p.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([131,1]),n()}({128:function(e,t,n){e.exports=n.p+"images/indicators79a68a8e.jpeg"},130:function(e,t,n){e.exports=n.p+"data/wdvp-newddc446b0.csv"},131:function(e,t,n){n(132),e.exports=n(334)},334:function(e,t,n){"use strict";n.r(t);n(335),n(341),n(128)},335:function(e,t,n){var a=n(336);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(339)(a,r);a.locals&&(e.exports=a.locals)},336:function(e,t,n){(t=e.exports=n(337)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Teko|Lato);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=BenchNine:400,700&subset=latin-ext);",""]);var a=n(338)(n(128));t.push([e.i,'.scatterplot text {\n  fill: #777; }\n\n.scatterplot .domain {\n  display: none; }\n\n.scatterplot .grid-line {\n  stroke: #9a9a9f;\n  stroke-dasharray: 1,5; }\n\n.heatmap .label {\n  font-size: 0.85rem;\n  font-family: "BenchNine", "Teko", sans-serif; }\n  .heatmap .label.text-hover {\n    fill: #f08080;\n    cursor: pointer; }\n\n.heatmap .cell.hover {\n  stroke: lightcoral;\n  stroke-width: 0.5; }\n\n.crosshair .label {\n  fill: #fff;\n  font-family: sans-serif;\n  font-size: 10px; }\n\n.crosshair .focusLine {\n  shape-rendering: crispEdges;\n  stroke: #9a9a9f;\n  stroke-width: 1.1;\n  stroke-linecap: butt; }\n\n.radial-graph-label {\n  font-family: "BenchNine", "Teko", sans-serif;\n  font-size: 1rem;\n  pointer-events: none;\n  max-width: 80px; }\n\n.radial-graph .label {\n  fill: #646979;\n  font-size: 0.85rem;\n  font-family: "BenchNine", "Teko", sans-serif; }\n  .radial-graph .label.selected {\n    fill: #f08080;\n    cursor: pointer; }\n  .radial-graph .label.text-hover:not(.selected) {\n    fill: #f08080;\n    cursor: pointer; }\n\n.radial-graph .indicator-ring-circle {\n  stroke: black;\n  fill: transparent;\n  pointer-events: none; }\n\n.radial-graph .comparator-ring-circle {\n  stroke: black;\n  fill: transparent;\n  pointer-events: none; }\n\n.radial-graph .heatmap-ring-path.selected {\n  stroke: #2c343d;\n  stroke-width: 0.3;\n  opacity: 1; }\n\n.radial-graph .heatmap-ring-path.hover:not(.selected) {\n  stroke: lightcoral;\n  stroke-width: 1; }\n\n.radial-graph .heatmap-ring-country-labels .country-label-path {\n  stroke: red; }\n\n.radial-graph .heatmap-ring-country-labels .radial-label-path {\n  stroke: red;\n  fill: transparent; }\n\n.wdvp-scatterplot {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px; }\n  .wdvp-scatterplot .wdvp-controls {\n    display: flex;\n    justify-content: space-evenly;\n    margin: 24px 0px;\n    min-height: 48px; }\n  .wdvp-scatterplot .wdvp-select {\n    display: flex;\n    flex-direction: column; }\n    .wdvp-scatterplot .wdvp-select label {\n      font-family: "BenchNine", "Teko", sans-serif; }\n  .wdvp-scatterplot .axis-label {\n    display: flex;\n    flex-direction: column;\n    font-family: "BenchNine", "Teko", sans-serif; }\n    .wdvp-scatterplot .axis-label p {\n      margin: 0; }\n    .wdvp-scatterplot .axis-label .title {\n      font-size: 2rem; }\n    .wdvp-scatterplot .axis-label .subtitle {\n      font-size: 1.25rem;\n      min-height: 24px; }\n    .wdvp-scatterplot .axis-label.x {\n      align-items: center; }\n    .wdvp-scatterplot .axis-label.y {\n      padding-left: 40px; }\n      .wdvp-scatterplot .axis-label.y .subtitle {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        margin-right: 80px; }\n\n.wdvp-heatmap {\n  display: flex;\n  margin: 0px 50px;\n  padding: 0;\n  position: relative; }\n  .wdvp-heatmap .heatmap-commentary-area {\n    margin-top: 180px;\n    display: flex;\n    justify-content: center; }\n\n#radial-container {\n  position: relative; }\n\n.wdvp-panel {\n  position: relative;\n  background-color: rgba(240, 240, 240, 0.8);\n  font-family: "BenchNine", "Teko", sans-serif;\n  font-size: 1rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.16), 0 2px 4px rgba(0, 0, 0, 0.23);\n  border-radius: 4px; }\n  .wdvp-panel--collapsed {\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    bottom: 40px;\n    right: 40px;\n    width: 60px;\n    height: 60px; }\n    .wdvp-panel--collapsed:hover {\n      cursor: pointer;\n      background-color: #f0f0f0; }\n  .wdvp-panel .wdvp-panel--expanded {\n    position: fixed;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding: 12px 16px;\n    bottom: 40px;\n    right: 40px;\n    width: 250px;\n    min-height: 210px;\n    max-height: 90%; }\n    .wdvp-panel .wdvp-panel--expanded p {\n      margin-bottom: 1.6rem; }\n    .wdvp-panel .wdvp-panel--expanded .close {\n      align-self: flex-end;\n      cursor: pointer; }\n  .wdvp-panel .panel-info {\n    margin-top: 16px; }\n    .wdvp-panel .panel-info.empty {\n      margin-top: 30px; }\n    .wdvp-panel .panel-info span {\n      font-weight: 700; }\n\nhtml, body {\n  background-color: #fefefe;\n  margin: 0px;\n  padding: 0px;\n  height: 100%;\n  overflow-x: hidden;\n  overscroll-behavior: none;\n  font-family: "Lato", sans-serif;\n  line-height: 1.5rem; }\n\nblockquote {\n  font-size: 1.2rem; }\n\np {\n  line-height: 1.6rem; }\n\n.wdvp-app {\n  display: flex;\n  flex-direction: column; }\n  .wdvp-app .parallax {\n    height: 100vh;\n    width: 100%;\n    background-color: #efefef;\n    background-attachment: fixed;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.16); }\n    .wdvp-app .parallax.svg-parallax {\n      height: 100vh;\n      -webkit-perspective: 1px;\n      perspective: 1px; }\n  .wdvp-app #p1 {\n    background-image: url('+a+'); }\n  .wdvp-app .screen {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    height: 100vh; }\n    .wdvp-app .screen .content {\n      max-width: 600px; }\n      .wdvp-app .screen .content h1 {\n        font-size: 2.625rem;\n        font-family: "BenchNine", "Teko", sans-serif; }\n    .wdvp-app .screen .scroll-info {\n      position: absolute;\n      bottom: 10px; }\n\n.tooltip {\n  font-family: "BenchNine", "Teko", sans-serif;\n  fill: rgba(255, 255, 255, 0.7); }\n  .tooltip.tt-scatterplot {\n    font-size: 1.25rem; }\n  .tooltip.tt-heatmap {\n    font-size: 0.85rem; }\n',""])},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(343),o=n(349);r.render(a.createElement(o.default),document.getElementById("root"))},349:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2);var i,l=function(e,t){var n=t.width,a=t.height,r={xScale:t.xScale,yScale:t.yScale,xLabelOffset:a+4,yLabelOffset:-4,labelWidth:80,labelHeight:16,labelColor:"#aaa",labelStrokeColor:"none",labelStrokeWidth:"0.5px",formatDecimal:o.i(",.2f")},i=e.append("g").attr("id","crosshair").attr("class","crosshair"),l=i.append("g").attr("id","xCrosshair");l.append("line").attr("id","focusLineX").attr("class","focusLine").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",r.xLabelOffset);var s=l.append("g").attr("id","xLabel").attr("transform","translate(0, ".concat(r.xLabelOffset,")"));s.append("rect").attr("id","focusLineXLabelBackground").attr("class","focusLineLabelBackground").attr("fill",r.labelColor).attr("stroke",r.labelStrokeColor).attr("stroke-width",r.labelStrokeWidth).attr("width",r.labelWidth).attr("height",r.labelHeight).attr("transform","translate(".concat(.5*-r.labelWidth,", 0)")),s.append("text").attr("id","focusLineXLabel").attr("class","label").attr("text-anchor","middle").attr("alignment-baseline","central").attr("transform","translate(0, ".concat(.5*r.labelHeight,")"));var c=i.append("g").attr("id","yCrosshair");c.append("line").attr("id","focusLineY").attr("class","focusLine").attr("x1",r.yLabelOffset).attr("y1",0).attr("x2",n).attr("y2",0);var u=c.append("g").attr("id","yLabel").attr("transform","translate(".concat(r.yLabelOffset,", 0)"));return u.append("rect").attr("id","focusLineYLabelBackground").attr("class","focusLineLabelBackground").attr("fill",r.labelColor).attr("stroke",r.labelStrokeColor).attr("stroke-width",r.labelStrokeWidth).attr("width",r.labelWidth).attr("height",r.labelHeight).attr("transform","translate(".concat(-r.labelWidth,", ").concat(.5*-r.labelHeight,")")),u.append("text").attr("id","focusLineYLabel").attr("class","label").attr("text-anchor","middle").attr("alignment-baseline","central").attr("transform","translate(".concat(.5*-r.labelWidth,", 0)")),i.updatePosition=function(e,t){o.v("#xCrosshair").attr("transform","translate(".concat(e,", 0)")),o.v("#yCrosshair").attr("transform","translate(0, ".concat(t,")")),o.v("#focusLineXLabel").text(r.formatDecimal(r.xScale.invert(e))),o.v("#focusLineYLabel").text(r.formatDecimal(r.yScale.invert(t)))},e.append("rect").attr("width",n).attr("height",a).style("opacity",0).style("display",null).on("mouseover",function(){i.style("display",null)}).on("mouseout",function(){i.style("display","none")}).on("mousemove",function(){var e=o.p(this),t=e[0],n=e[1];i.updatePosition(t,n)}),i.updateScales=function(e){var t=e.xScale,n=e.yScale;r.xScale=t,r.yScale=n},i.style("display","none"),i},s=n(130);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="economy",d="social",p="government",f=(c(i={country:{label:"Country",id:0,description:"Name of the country",group:"countryData",desc:0,unit:"",useSqrt:0,source:"",url:"",year:"2019",details:"",flipColor:0},ISO:{label:"ISO Country Code",id:1,description:"ISO alpha-3 code",group:"countryData",desc:0,unit:"",useSqrt:0,source:"FAO",url:"http://www.fao.org/countryprofiles/iso3list/en/",year:"",details:"",flipColor:0},ISO2:{label:"ISO2 Country Code",id:2,description:"ISO alpha-2 code",group:"countryData",desc:0,unit:"",useSqrt:0,source:"Wikipedia, UN Statistics",url:"https://github.com/lukes/ISO-3166-Countries-with-Regional-Codes",year:"2018",details:"",flipColor:0},population:{label:"Population",id:3,description:"",group:"countryData",desc:0,unit:"",useSqrt:0,source:"World Bank Data",url:"https://data.worldbank.org/indicator/SP.POP.TOTL",year:"2018",details:"",flipColor:0},surfacearea:{label:"Surface Area",id:4,description:"",group:"countryData",desc:0,unit:"km2",useSqrt:0,source:"CIA World Factbook",url:"https://www.cia.gov/library/publications/the-world-factbook/fields/2147.html#al",year:"2018",details:"",flipColor:0},region:{label:"Region",id:5,description:"",group:"countryData",desc:0,unit:"",useSqrt:0,source:"Wikipedia, UN Statistics",url:"https://github.com/lukes/ISO-3166-Countries-with-Regional-Codes",year:"2018",details:"",flipColor:0},subregion:{label:"Subregion",id:6,description:"",group:"countryData",desc:0,unit:"",useSqrt:0,source:"Wikipedia, UN Statistics",url:"https://github.com/lukes/ISO-3166-Countries-with-Regional-Codes",year:"2018",details:"",flipColor:0},GINIindex:{label:"GINI Index",id:7,description:"Inequality in the distribution of family income. Lower = better.",group:d,desc:1,unit:"",useSqrt:0,source:"CIA World Factbook",url:"https://www.cia.gov/library/publications/the-world-factbook/rankorder/2172rank.html",year:"varies per country",details:"",flipColor:0},happyplanetindex:{label:"Happy Planet Index",id:8,description:"Well being + life expectancy + inequalities + ecological footprint. Higher = better.",group:d,desc:0,unit:"",useSqrt:0,source:"Happy Planet Index",url:"http://happyplanetindex.org/",year:"2016",details:"",flipColor:0},humandevelopmentindex:{label:"Human Development Index",id:9,description:"Healthy life + knowledge + standard of living. Higher = better.",group:d,desc:0,unit:"",useSqrt:0,source:"UNDP",url:"http://hdr.undp.org/en/data#",year:"2017",details:"",flipColor:0},worldhappinessreportscore:{label:"World Happiness Report Score",id:10,description:"Polled inhabitants rate their quality of life from 1-10. Higher = better.",group:d,desc:0,unit:"1 to 10",useSqrt:0,source:"World Happiness Report",url:"http://worldhappiness.report/ed/2018/",year:"2017",details:"",flipColor:0},sustainableeconomicdevelopmentassessment:{label:"SEDA",id:11,description:"An assessment based on 40 indicators in sustainability, economics, & investments. Higher = better.",group:d,desc:0,unit:"",useSqrt:0,source:"Boston Consulting Group",url:"https://www.bcg.com/en-gb/publications/interactives/seda-2018-guide.aspx",year:"2018",details:"",flipColor:0},womenMPs:{label:"Women MPs",id:12,description:"Proportion of seats held by women in national parliaments (%)",group:d,desc:0,unit:"%",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/SG.GEN.PARL.ZS",year:"2017",details:"Women in parliaments are the percentage of parliamentary seats in a single or lower chamber held by women.",flipColor:0},GDP:{label:"GDP",id:13,description:"",group:u,desc:0,unit:"billions PPP",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},GDPpercapita:{label:"GDP per person",id:14,description:"",group:u,desc:0,unit:"PPP",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},GDPgrowth:{label:"GDP Growth",id:15,description:"Annual growth of GDP.",group:u,desc:0,unit:"%",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},healthexpenditure:{label:"Health Expenditure",id:16,description:"Current health expenditure expressed as a percentage of GDP.",group:u,desc:0,unit:"% of GDP",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/SH.XPD.CHEX.GD.ZS",year:"2015",details:"Level of current health expenditure expressed as a percentage of GDP. Estimates of current health expenditures include healthcare goods and services consumed during each year. This indicator does not include capital health expenditures such as buildings, machinery, IT and stocks of vaccines for emergency or outbreaks.",flipColor:0},healthexpenditureperperson:{label:"Health Expenditure per person",id:17,description:"Current expenditures on health per capita expressed in international dollars at purchasing power parity (PPP).",group:u,desc:0,unit:"USD",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/SH.XPD.CHEX.PP.CD",year:"2015",details:"",flipColor:0},educationexpenditure:{label:"Education Expenditure",id:18,description:"General government expenditure on education.",group:u,desc:0,unit:"% of GDP",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/SE.XPD.TOTL.GD.ZS?view=chart",year:"2014",details:"General government expenditure on education (current, capital, and transfers) is expressed as a percentage of GDP. It includes expenditure funded by transfers from international sources to government. General government usually refers to local, regional and central governments.",flipColor:0},educationexpenditureperperson:{label:"Education Expenditure per person",id:19,description:"General government expenditure on education per person.",group:u,desc:0,unit:"USD",useSqrt:0,source:"own calculation",url:"",year:"2014",details:"General government expenditure on education (current, capital, and transfers) per person. It includes expenditure funded by transfers from international sources to government. General government usually refers to local, regional and central governments.",flipColor:0},governmentspendingscore:{label:"Government Spending Score",id:20,description:"Burden of government spending on the country. Lower = Better.",group:p,desc:1,unit:"1 to 100",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},governmentexpenditure:{label:"Government Expenditure",id:21,description:"",group:p,desc:0,unit:"% of GDP",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},schoollifeexpectancy:{label:"School Life Expectancy",id:22,description:"Average male & female, primary to tertiary (years).",group:d,desc:0,unit:"",useSqrt:0,source:"CIA World Factbook",url:"https://www.cia.gov/library/publications/the-world-factbook/fields/2205.html#202",year:"2018",details:"",flipColor:0},Unemployment:{label:"Unemployment",id:23,description:"Unemployment refers to the share of the labor force that is without work but available for and seeking employment. Definitions of labor force and unemployment differ by country.",group:u,desc:1,unit:"%",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},Inflation:{label:"Inflation",id:24,description:"Inflation as measured by the consumer price index reflects the annual percentage change in the cost to the average consumer of acquiring a basket of goods and services",group:u,desc:1,unit:"%",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/FP.CPI.TOTL.ZG",year:"2018",details:"",flipColor:0},politicalrightsscore:{label:"Political Rights Score",id:25,description:"The political rights rating, with 1 representing the most free and 7 the least free.",group:p,desc:1,unit:"1 to 7",useSqrt:0,source:"Freedom House",url:"https://freedomhouse.org/report/freedom-world-2015/methodology",year:"2017",details:"The political rights questions are grouped into three subcategories: Electoral Process, Political Pluralism and Participation, and Functioning of Government. See link for more details.",flipColor:0},civillibertiesscore:{label:"Civil Liberties Score",id:26,description:"The civil liberties rating range from 1 to 7, with 1 representing the most free and 7 the least free.",group:p,desc:1,unit:"1 to 7",useSqrt:0,source:"Freedom House",url:"https://freedomhouse.org/report/freedom-world-2015/methodology",year:"2017",details:"The civil liberties questions are grouped into four subcategories: Freedom of Expression and Belief, Associational and Organizational Rights, Rule of Law, and Personal Autonomy and Individual Rights. See source link for more details.",flipColor:0},freedomscore:{label:"Freedom Score",id:27,description:"The average of the political rights and civil liberties ratings. 1 = most free, 7 = least free",group:p,desc:1,unit:"1 to 7",useSqrt:0,source:"Freedom House",url:"https://freedomhouse.org/report/freedom-world-2015/methodology",year:"2017",details:"Arithmetic mean of Political Rights and Civil Liberties rankings.",flipColor:0},politicalstabilityandabsenceofviolence:{label:"Political Stability and Absence of Violence",id:28,description:"From 2.5 (most stable) to -2.5 (least stable)",group:p,desc:0,unit:"-2.5 to +2.5",useSqrt:0,source:"World Bank",url:"http://info.worldbank.org/governance/wgi/#doc",year:"2017",details:"Political Stability and Absence of Violence measures perceptions of the likelihood of political instability and/or politicallymotivated violence, including terrorism. This measure is based on over 30 indicators.",flipColor:0},governmenteffectiveness:{label:"Government Effectiveness",id:29,description:"Quality of public services, civil service, policy formation, government commitment. 2.5 = most effective.",group:p,desc:0,unit:"-2.5 to +2.5",useSqrt:0,source:"World Bank",url:"http://info.worldbank.org/governance/wgi/#doc",year:"2017",details:"Government effectiveness captures perceptions of the quality of public services, the quality of the civil service and the degree of its independence from political pressures, the quality of policy formulation and implementation, and the credibility of the government's commitment to such policies.",flipColor:0},regulatoryquality:{label:"Regulatory Quality",id:30,description:"Level of policies to support private sector.",group:p,desc:0,unit:"-2.5 to +2.5",useSqrt:0,source:"World Bank",url:"http://info.worldbank.org/governance/wgi/#doc",year:"2017",details:"Regulatory quality captures perceptions of the ability of the government to formulate and implement sound policies and regulations that permit and promote private sector development. ",flipColor:0},ruleoflaw:{label:"Rule of Law",id:31,description:"Quality of rule of law + likelihood of crime / violence.",group:p,desc:0,unit:"-2.5 to +2.5",useSqrt:0,source:"World Bank",url:"http://info.worldbank.org/governance/wgi/#doc",year:"2017",details:"Rule of law captures perceptions of the extent to which agents have confidence in and abide by the rules of society, and in particular the quality of contract enforcement, property rights, the police, and the courts, as well as the likelihood of crime and violence.",flipColor:0},controlofcorruption:{label:"Control of Corruption",id:32,description:"Captures perceptions of the extent to which public power is exercised for private gain.",group:p,desc:0,unit:"-2.5 to +2.5",useSqrt:0,source:"World Bank",url:"http://info.worldbank.org/governance/wgi/#doc",year:"2017",details:"Control of corruption captures perceptions of the extent to which public power is exercised for private gain, including both petty and grand forms of corruption, as well as 'capture' of the state by elites and private interests. ",flipColor:0},worldgovernanceindicatorsaverage:{label:"World Governance Indicators Score",id:33,description:"Average of World Governance Indicators",group:p,desc:0,unit:"-2.5 to +2.5",useSqrt:0,source:"based on World Bank",url:"http://info.worldbank.org/governance/wgi/#doc",year:"2017",details:"Index (arithmetic mean) of World Bank's Government Indicators: Political Stability and Absence of Violence, Government Effectiveness, Regulatory Quality, Rule of Law, Control of Corruption. See link to source for more information. ",flipColor:0},judicialeffectivenessscore:{label:"Judicial Effectiveness Score",id:34,description:"Judicial independence + quality of the judicial process, fairness (/100).",group:p,desc:0,unit:"0 to 100",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},governmentintegrityscore:{label:"Government Integrity Score",id:35,description:"Public trust + transparency + corruption.",group:p,desc:0,unit:"",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},propertyrightsscore:{label:"Property Rights Score",id:36,description:"How freely can inhabitants acquire private property.",group:p,desc:0,unit:"",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},taxburdenscore:{label:"Tax Burden Score",id:37,description:"Tax burden Score rates country by measuring individual tax rate + corporate tax rate + total tax as % of GDP. Highier values mean lower tax burden = better",group:p,desc:0,unit:"",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},overalleconomicfreedomscore:{label:"Overall Economic Freedom Score",id:38,description:"",group:p,desc:0,unit:"",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2017",details:"",flipColor:0},financialfreedomscore:{label:"Financial Freedom Score",id:39,description:"Level of government regulation of financial services, foreign competition, credit & capital development.",group:p,desc:0,unit:"",useSqrt:0,source:"Heritage Foundation",url:"https://www.heritage.org/index/explore",year:"2018",details:"",flipColor:0},co2emissions:{label:"CO2 Emissions",id:40,description:"Carbon dioxide produced during consumption of solid, liquid, and gas fuels and gas flaring. Lower = better.",group:"environment",desc:1,unit:"thousand metric tons",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/EN.ATM.CO2E.KT?view=chart",year:"2014",details:"Carbon dioxide emissions are those stemming from the burning of fossil fuels and the manufacture of cement. They include carbon dioxide produced during consumption of solid, liquid, and gas fuels and gas flaring.",flipColor:0},co2emissionspercapita:{label:"CO2 Emissions per capita",id:41,description:"Carbon dioxide per capita, produced during consumption of solid, liquid, and gas fuels and gas flaring.",group:"environment",desc:1,unit:"metric tons",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/EN.ATM.CO2E.KT?view=chart",year:"2014",details:"Carbon dioxide emissions are those stemming from the burning of fossil fuels and the manufacture of cement. They include carbon dioxide produced during consumption of solid, liquid, and gas fuels and gas flaring.",flipColor:0},renewableenergy:{label:"Renewable Energy Output",id:42,description:"Renewable Energy production as percent of total energy production.",group:"environment",desc:0,unit:"%",useSqrt:0,source:"World Bank",url:"https://data.worldbank.org/indicator/EG.ELC.RNEW.ZS",year:"2015",details:"Renewable Energy production as percent of total energy output.",flipColor:0},EFConsPerCap:{label:"Ecological Footprint per person",id:43,description:"Ecological Footprint of consumption per person . Lower = better.",group:"environment",desc:1,unit:"global hectares (gha)",useSqrt:0,source:"",url:"http://data.footprintnetwork.org/#/abouttheData",year:"2014",details:"A global hectare is a biologically productive hectare of land or water with world average biological productivity for a given year.",flipColor:0},EFConsTotGHA:{label:"Total Ecological Footprint",id:44,description:"Total Ecological Footprint of consumption in global hectares (gha). Lower = better.",group:"environment",desc:1,unit:"gha",useSqrt:0,source:"",url:"http://data.footprintnetwork.org/#/abouttheData",year:"2014",details:"A measure of how much area of biologically productive land and water an individual, population or activity requires to produce all the resources it consumes and to absorb the waste it generates, using prevailing technology and resource management practices. The Ecological Footprint is usually measured in global hectares. A global hectare is a biologically productive hectare with world average biological productivity for a given year.",flipColor:0},Total:{label:"Total score",id:45,description:"Combined value of all indicators. 1 = best",group:"total",desc:0,unit:"0 to 1",useSqrt:0,source:"own calculation",url:"",year:"2019",details:"All indicators were normalized to range between 0 and 1 (flipped when necessary) and then averaged giving overal ranking ranging from 0 (worst) to 1 (best). Indicators with missing data are not considered when averaging."}},d,{group:"",name:d}),c(i,u,{group:"",name:u}),c(i,p,{group:"",name:p}),c(i,"environment",{group:"",name:"environment"}),c(i,"countryData",{group:"",name:"countryData"}),i);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){g(e,t,n[t])})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=s,y=["ISO","ISO2","country","region","subregion",d,"environment",u,p,"countryData"],b=y.concat(["population","surfacearea","schoollifeexpectancy","judicialeffectivenessscore","sustainableeconomicdevelopmentassessment","GDP","Inflation","EFConsTotGHA","politicalrightsscore","civillibertiesscore","regulatoryquality","controlofcorruption","ruleoflaw","governmenteffectiveness","governmentexpenditure","financialfreedomscore","propertyrightsscore","politicalstabilityandabsenceofviolence","co2emissions","governmenteffectiveness","healthexpenditureperperson","educationexpenditureperperson"]),w=["Monaco","Liechtenstein","Andorra","Kosovo","San Marino","Saint Kitts and Nevis","Tuvalu","Nauru","Palau","Marshall Islands"],x=function(e){return!y.includes(e)},E=function(e){return!b.includes(e)},S=function(e){return!w.includes(e)},k=function(e,t,n,a){var r,o=a.desc;if(null===e)r=null;else{var i=(e-t)/(n-t);r=o?1-i:i}return r},C=function(e){return Object.keys(e).filter(x).forEach(function(t){var n=+e[t];e[t]=n||null}),m({},e)};function O(e){var t=e.columns,n=e.filter(function(e){return S(e.country)}),a=function(e){var t=Object.keys(e[0]),n={};return t.filter(function(e){return!b.includes(e)}).forEach(function(t){var a=f[t].desc,r={values:[]};e.forEach(function(e){var n=e[t],a=e.country;r.values.push({country:a,value:n})});var i=r.values.map(function(e){return e.value});r.extent=o.h(i);var l=h(r.extent,2),s=l[0],c=l[1];r.min=s,r.max=c,r.sum=o.z(i),r.average=r.sum/i.length,r.normAverage=k(r.average,s,c,{desc:a}),r.values=r.values.map(function(e){return m({},e,{normalized:k(e.value,s,c,{desc:a})})}),n[t]=r}),n}(n),r=function(e,t){var n=[];return e.filter(S).forEach(function(e){var a=[],r=e.country,o=function(e){return e.country===r},i={id:e.ISO+"Total",country:r,code:e.ISO,normalized:0,indicator:"Total"};Object.keys(e).filter(E).forEach(function(n){var l=t[n].values.find(o).normalized,s={id:e.ISO+n,country:r,code:e.ISO,indicator:n,value:e[n],normalized:l,useSqrt:f[n].useSqrt,desc:f[n].desc};i.normalized+=l,a.push(s)}),i.normalized=i.normalized/a.length,i.value=i.normalized.toFixed(2),i.desc=0,a.push(i),n.push.apply(n,a)}),n}(n,a);return{dataItems:r,rawData:n,categories:t,indicators:a,countryData:function(e){return e}(r)}}var A=o.m,I=o.o,P=o.l,T=o.n,q=function(e){var t=f[e];switch(t?t.group:""){case"countryData":return o.u(o.n);case"environment":return o.u(A);case d:return o.u(I);case u:return o.u(P);case p:return o.u(T);default:return o.u(o.n)}};function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{t=Math.abs(t),t=isNaN(t)?2:t;var r=e<0?"-":"",o=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),i=o.length>3?o.length%3:0;return r+(i?o.substr(0,i)+a:"")+o.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+a)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")}catch(e){console.log(e)}}var j=function(e,t){return e.append("defs").append("filter").attr("id","blur").append("feGaussianBlur").attr("stdDeviation",t)};var D;o.y().id(function(e){return e.name}).parentId(function(e){return e.group})((D=[],Object.keys(f).filter(function(e){return!["total","countryData"].includes(f[e].group)}).forEach(function(e){var t=f[e].group,n=t||"root",a=m({},f[e],{name:e,group:n});D.push(a)}),D.push({name:"root",group:""}),D));function L(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var G,R,W,H,z,F,B,M,V,U,X,_,Y,Z,J,K,Q,$,ee,te,ne,ae,re,oe=o.A().duration(3e3).ease(o.g),ie=[],le=function(e){var t="#ff0000";return ie.includes(e.ISO)||(t="none"===_?q("")(0):q("")(K(e[_]))),t};function se(e){e.call(Q),e.selectAll(".tick line").attr("class","grid-line"),e.selectAll(".tick text").attr("y",9)}function ce(e){e.call($),e.selectAll(".tick line").attr("class","grid-line"),e.selectAll(".tick text").attr("x",-9)}function ue(e){if(F=e.data,U=e.xVar,X=e.yVar,_=e.radiusVar,B=o.h(F,function(e){return e[U]}),M=o.h(F,function(e){return e[X]}),V="none"===_?[4,4]:o.h(F,function(e){return null===e[_]?0:e[_]}),Y=o.t().domain(B).range(W).nice(10),Z=o.t().domain(M).range(H).nice(5),J=o.t().domain(V).range(z),K=o.t().domain(V).range([0,1]),Q=o.b(Y).tickSize(6).tickSizeInner(-R),$=o.c(Z).ticks(5).tickSizeInner(-G),B[0]<0){var t=Q.scale().ticks();t.includes(0)||Q.tickValues(L(t).concat([0]))}if(M[0]<0){var n=$.scale().ticks();n.includes(0)||$.tickValues(L(n).concat([0]))}ee.call(se),te.call(ce),re&&re.updateScales({xScale:Y,yScale:Z})}function de(){var e=ne.selectAll("circle").data(F,function(e){return e.ISO});e.exit().transition(oe).attr("opacity",0).attr("r",0).remove(),e.enter().append("circle").attr("cx",function(e){return Y(e[U])}).attr("cy",function(e){return Z(e[X])}).attr("r",0).attr("opacity",0).style("fill",le).attr("stroke",function(){return"#000"}).on("mouseover",fe).on("mouseout",he).on("mouseup",pe).merge(e).transition(oe).attr("cx",function(e){return Y(e[U])}).attr("cy",function(e){return Z(e[X])}).attr("r",function(e){return J(e[_])}).style("fill",le).style("opacity",function(e){return null===e[_]?.15:1})}function pe(e){if(ie.includes(e.ISO)){var t=ie.indexOf(e.ISO);ie.splice(t,1)}else ie.push(e.ISO);o.v(this).style("fill",le)}function fe(e){var t=Y(e[U]),n=Z(e[X]),a=t+J(e[_])+4;o.v(this).attr("cursor","pointer").style("fill","darkorange").style("position","relative");var r=ne.append("g").attr("id","tooltip").attr("class","tooltip tt-scatterplot"),i=r.append("rect").attr("x",a-2).attr("y",n-11).attr("rx","3").attr("ry","3").attr("height",22).style("pointer-events","none").style("fill","white").style("opacity","0.9");r.append("text").attr("id","tooltip-text").attr("text-anchor","start").attr("alignment-baseline","central").attr("x",a).attr("y",n+1).style("pointer-events","none").style("fill","black").text(e.country),i.attr("width",function(){return o.v("#tooltip-text").node().getComputedTextLength()+6}),re.style("display",null),re.updatePosition(t,n)}function he(){o.v(this).style("fill",le),o.v("#tooltip").remove()}var me={init:function(e,t){var n=20,a=100,r=30,i=100;G=t.width-a-i,R=t.height-n-r,W=[0,G],H=[R,0],z=[4,12];var s=o.v(e).append("svg").attr("class","scatterplot").attr("width",t.width).attr("height",t.height);ae=j(s);var c=s.append("g").attr("id","mainGroup").attr("transform","translate( "+a+", "+n+")");ee=c.append("g").attr("id","xaxis").attr("class","axis").attr("transform","translate( 0,"+R+")"),te=c.append("g").attr("id","yaxis").attr("class","axis");var u=c.append("g").attr("id","event-overlay");ue(t),re=l(u,{height:R,width:G,xScale:Y,yScale:Z}),ne=u.append("g").attr("id","circleGroup").attr("filter","url(#blur)"),de()},resize:function(){},updateData:function(e){ue(e),de()},removeSelection:function(){ie.length&&(ie=[],de())},disappear:function(){ae.transition(oe).attr("stdDeviation",100)}};function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ve(){var e=ge(Object(a.useState)(window.innerWidth),1)[0],t=ge(Object(a.useState)(600),1)[0],n=ge(Object(a.useState)("GDPpercapita"),2),i=n[0],l=n[1],s=ge(Object(a.useState)("co2emissionspercapita"),2),c=s[0],u=s[1],d=ge(Object(a.useState)("none"),2),p=d[0],h=d[1],m=ge(Object(a.useState)([]),2),g=m[0],b=m[1],w=ge(Object(a.useState)([]),2),x=w[0],E=w[1],S=ge(Object(a.useState)(0),2),k=S[0],O=S[1],A=Object(a.useRef)(null),I=function(e){return e[i]&&e[c]};return Object(a.useEffect)(function(){o.e(";",v,C).then(function(e){b(e);var t=e.columns.filter(function(e){return!y.includes(e)}).sort(function(e,t){return e.id<t.id});E(t)})},[]),Object(a.useEffect)(function(){if(g&&g.length){var n=g.filter(I);me.init(A.current,{data:n,width:e,height:t,xVar:i,yVar:c,radiusVar:p})}},[g]),Object(a.useEffect)(function(){if(g&&g.length){var e=g.filter(I);me.updateData({data:e,xVar:i,yVar:c,radiusVar:p})}},[i,c,p]),Object(a.useEffect)(function(){g&&g.length&&me.removeSelection()},[k]),r.a.createElement("div",{className:"wdvp-scatterplot parallax svg-parallax"},r.a.createElement("div",{className:"wdvp-controls"},r.a.createElement("div",{className:"wdvp-select"},r.a.createElement("label",null,"Y-Axis Category"),r.a.createElement("select",{value:c,onChange:function(e){return u(e.target.value)}},x&&x.length&&x.filter(function(e){return![i].includes(e)}).map(function(e){return r.a.createElement("option",{key:f[e].id,value:e},f[e].label)}))),r.a.createElement("div",{className:"wdvp-select"},r.a.createElement("label",null,"X-Axis Category"),r.a.createElement("select",{value:i,onChange:function(e){return l(e.target.value)}},x&&x.length&&x.filter(function(e){return![c].includes(e)}).map(function(e){return r.a.createElement("option",{key:f[e].id,value:e},f[e].label)}))),r.a.createElement("div",{className:"wdvp-select"},r.a.createElement("label",{htmlFor:"size-select"},"Size/Color Category"),r.a.createElement("select",{id:"size-select",value:p,onChange:function(e){return h(e.target.value)}},r.a.createElement("option",{key:-1,value:"none"},"None"),x&&x.length&&x.map(function(e){return r.a.createElement("option",{key:f[e].id,value:e},f[e].label)})))),r.a.createElement("div",null,r.a.createElement("div",{className:"axis-label y"},r.a.createElement("p",{className:"title"},f[c].label),r.a.createElement("div",{className:"subtitle"},r.a.createElement("p",null,f[c].description),r.a.createElement("input",{type:"button",onClick:function(){return O(!k)},value:"Remove Selection"}))),r.a.createElement("div",{id:"scatterplot-container",ref:A}),r.a.createElement("div",{className:"axis-label x"},r.a.createElement("p",{className:"title"},f[i].label),r.a.createElement("div",{className:"subtitle"},r.a.createElement("p",null,f[i].description)))))}var ye=n(51),be=n.n(ye),we=null,xe=null,Ee=null,Se=60,ke=110,Ce="Select a country to view details here.",Oe=null,Ae=null,Ie=null,Pe=null,Te=null;function qe(e){e.on("mouseover",function(e){o.v(this).classed("hover",!0);var t,n,a=xe[e[0]].average,r=(t=Ee,n=e[0],xe[n].values.find(function(e){return e.country===t}).value),i="".concat(f[e[0]].label,": ").concat(null===r?"no data":r),l="Average: ".concat(N(a,2)),s=o.p(this)[0],c=o.p(this)[1],u=we.append("g").attr("id","radial-tooltip").attr("class","tooltip").attr("transform","translate(".concat(s,", ").concat(c,")")),d=u.append("rect").attr("x",12).attr("y",0).attr("rx","3").attr("ry","3").attr("height",42).style("pointer-events","none").style("fill","white").style("opacity","0.9"),p=u.append("text").attr("id","radial-tooltip-text").attr("alignment-baseline","central").attr("y",12).style("pointer-events","none").style("fill","black");p.append("tspan").attr("x",14).attr("dy","0.2em").text(i),p.append("tspan").attr("x",14).attr("dy","1.2em").text(l);var h=p.node().getComputedTextLength()+6;p.attr("x",14).attr("text-anchor","start"),d.attr("width",h)}),e.on("mouseout",function(){o.v(this).classed("hover",!1),o.v("#radial-tooltip").remove()})}function Ne(e,t){var n=[];return Object.keys(e).forEach(function(a){var r,o=e[a].desc;r="normAverage"===t?o?e[a][t]:1-e[a][t]:o?1-e[a][t]:e[a][t],n.push([e[a].indicator,r])}),n}var je={init:function(e,t,n){we=e,t,xe=n,(Oe=e.append("g").attr("class","indicator-ring-group")).selectAll("circle").data([Se,ke]).enter().append("circle").attr("cx",0).attr("cy",0).attr("r",function(e){return e}).attr("class","ir-ring-helper").attr("fill","transparent").attr("stroke","black").attr("stroke-dasharray","2 2").style("opacity",0),Oe.append("text").attr("class","radial-graph-label").attr("alignment-baseline","central").attr("text-anchor","middle").attr("y",0).attr("x",0).style("pointer-events","none").text(Ee||Ce);var a=Ne(xe,"normAverage"),r=o.r(19).map(function(e,t){return t});Pe=o.t().domain([0,1]).range([Se,ke]),Ae=o.s().domain(r).range([0,2*Math.PI]),Ie=o.s().domain(r).range([-Math.PI/2,2*Math.PI-Math.PI/2]),Te=o.q().curve(o.d).angle(function(e,t){return Ae(t)}).radius(function(e){return Pe(e[1])}),Oe.append("path").attr("class","ir-indicator-radial").attr("d",Te(a)).attr("opacity","0").attr("fill","transparent").attr("stroke","black"),Oe.append("g").attr("class","ir-circle-group").selectAll("circle").data(a).enter().append("circle").attr("class","ir-marker").attr("cx",function(e,t){return Pe(e[1])*Math.cos(Ie(t))}).attr("cy",function(e,t){return Pe(e[1])*Math.sin(Ie(t))}).call(qe)},updateOnCountryChange:function(e,t){Ee=t;var n=Ne(e,"normalized");Oe.select(".radial-graph-label").text(Ee),Oe.selectAll(".ir-average-radial").transition().attr("opacity",1),Oe.selectAll(".ir-ring-helper").transition().style("opacity",1),Oe.select("path:not(.ir-average-radial").transition().attr("d",Te(n)).attr("stroke","black").attr("fill","transparent").transition().attr("opacity",1),Oe.selectAll(".ir-marker").data(n).transition().attr("cx",function(e,t){return Pe(e[1])*Math.cos(Ie(t))}).attr("cy",function(e,t){return Pe(e[1])*Math.sin(Ie(t))}).attr("r",3).attr("fill","black");var a=ke+6,r=Oe.append("g").classed("labels",!0).classed("segment",!0).attr("transform","rotate(30)");r.append("def").append("path").attr("id","segment-label-path-1").attr("d","m0 -"+a+" a"+a+" "+a+" 0 1 1 -1 0"),r.selectAll("text").data([{label:"Society",angle:0},{label:"Economy",angle:0},{label:"Government",angle:0},{label:"Environment",angle:0}]).enter().append("text").append("textPath").attr("xlink:href","#segment-label-path-1").style("font-size","12px").attr("startOffset",function(e,t){return 100*t/4+"%"}).text(function(e){return e.label})}};function De(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Le=140,Ge=12,Re=120,We=2,He=2e3/360,ze=null,Fe=null,Be=!0,Me=null,Ve=null,Ue=null,Xe=null,_e=null,Ye=null,Ze=o.a(),Je=0,Ke=.15,Qe=1.76,$e=null,et=null,tt=null;function nt(e,t){return et(t)>=Math.PI?"end":"start"}function at(e){var t=Ue.indexOf(e.indicator);e.innerRadius=tt(t),e.outerRadius=tt(t+1);var n=mt(e.country);return e.startAngle=et(n),e.endAngle=e.startAngle+et.bandwidth(),Ze({innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,padAngle:.001,padRadius:e.outerRadius})}function rt(e){var t=mt(e),n=et(t),a=et.bandwidth();return n=n>=Math.PI?n+.01:n+a,Ze({innerRadius:Je+We,outerRadius:Je+Re,padRadius:Le,startAngle:n,endAngle:n})}function ot(e,t){var n=Le+2+t*Ge,a=n*Math.sin(.01),r=n*Math.cos(.025);return"m ".concat(a," -").concat(r," a ").concat(n," ").concat(n," 0 1 1 -1 0")}function it(e){var t,n=[],a=[];o["w"](".".concat(e)).each(function(e){if(e.value){n.push(e)}else{a.push(e)}});var r=function e(t,n){var a=t.desc;if(Be){return a?t.value-n.value:n.value-t.value}else{return a?n.value-t.value:t.value-n.value}},i;(t=n.sort(r)).push.apply(t,a),lt(n.map(function(e){return e.country}))}function lt(e){Ye=Xe,Xe=e,Ct.updateOnIndicatorChange(ze),st(),ut()}function st(){o["w"](".heatmap-ring-path").transition().delay(ct).duration(function(e){return 800-ct(e)}).attr("opacity",.4).attrTween("d",function(e){return dt(e,30)}).transition().ease(o["f"]).duration(3e3).attr("opacity",.4).attrTween("d",pt).transition().duration(ct).attr("opacity",.8).attrTween("d",function(e){return dt(e,-30)})}function ct(e){return 400+400*(Be?1-e.normalized:e.normalized)}function ut(){var e=o["v"](".heatmap-ring-country-labels");e.selectAll("path").transition().duration(4e3).attrTween("d",function(e){return ft(e,5e3)}),e.selectAll("text").transition().duration(600).attr("opacity",0).transition().duration(3e3).style("text-anchor",function(e,t){return t=mt(e),nt(e,t)}).transition().duration(600).attr("opacity",1)}function dt(e,t){var n=Ue.indexOf(e.indicator),a=e.innerRadius,r=e.outerRadius;return t>0&&(a=tt(n),r=tt(n+1)),function(n){return e.innerRadius=a+t*n,e.outerRadius=r+t*n,Ze({innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,padAngle:e.padAngle})}}function pt(e){var t=Ye.indexOf(e.country),n=Xe.indexOf(e.country),a=o.k(t,n),r=et.bandwidth();return function(t){return e.startAngle=$e(a(t)),e.endAngle=e.startAngle+r,Ze({innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle})}}function ft(e,t){var n=Ye.indexOf(e),a=Xe.indexOf(e),r=o["k"](n,a),i=et.bandwidth();return function(e){var n=ht(e,.5,t);var a=$e(r(e));a=a>=Math.PI?a+.01:a+i;return Ze({innerRadius:Je+We+n,outerRadius:Je+Re+n,padRadius:Le,startAngle:a,endAngle:a})}}function ht(e,t,n){if(e<t)return e*n;else return(1-e)*n}function mt(e){return Xe.indexOf(e)}function gt(e){return Ve.find(function(t){return t.country===e})}var vt={init:function(e,t){Me=e,Ve=t.dataItems,_e=t.indicators,Ue=o.x(Ve.map(function(e){return e.indicator})).values(),Xe=o.x(Ve.map(function(e){return e.country})).values(),Ye=De(Xe),Je=Le+Ge*Ue.length,et=o.s().domain(Xe.map(function(e,t){return t})).range([Ke,Ke+Qe*Math.PI]).align(0),$e=o.t().domain([0,Xe.length]).range([Ke,Ke+Qe*Math.PI]),tt=o.t().domain([0,Ue.length]).range([Le,Je]),Me.append("g").attr("class","heatmap-ring").attr("filter","url(#blur)").selectAll("path").data(Ve,function(e){return e.id}).enter().append("path").attr("class",function(e){return"heatmap-ring-path ".concat(e.code," ").concat(e.indicator)}).attr("fill",function(e){return t=function(e){if("Total"===e.indicator)return q(e.indicator)(e.normalized);var t=_e[e.indicator].values.map(function(e){return e.normalized}).sort(function(e,t){return e-t}),n=t.indexOf(e.normalized)/t.length;return q(e.indicator)(n)}(e),n=.35,(a=o.j(t)).s=n,a;var t,n,a}).attr("display",function(e){return null===e.value?"none":null}).attr("d",at).call(function(e){return n=Me,(t=e).on("mouseover",function(e){o.v(this).classed("hover",!0);var t="".concat(f[e.indicator].label,": ").concat(null===e.value?"no data":e.value),a=o.p(this)[0],r=o.p(this)[1],i=n.append("g").attr("id","radial-tooltip").attr("class","tooltip").attr("transform","translate(".concat(a,", ").concat(r,")")),l=i.append("rect").attr("x",12).attr("y",0).attr("rx","3").attr("ry","3").attr("height",22).style("pointer-events","none").style("fill","white").style("opacity","0.9"),s=i.append("text").attr("id","radial-tooltip-text").attr("alignment-baseline","central").attr("y",12).style("pointer-events","none").style("fill","black").text(t),c=s.node().getComputedTextLength()+6;s.attr("x",14).attr("text-anchor","start"),l.attr("width",c)}),void t.on("mouseout",function(){o.v(this).classed("hover",!1),o.v("#radial-tooltip").remove()});var t,n}),a=o.v(".heatmap-ring").append("g").attr("class","heatmap-ring-country-labels").attr("transform","rotate(-0.15)"),a.selectAll("path").data(Xe).enter().append("path").attr("opacity",0).attr("class","country-label-path").attr("id",function(e){return"country-label-path-"+gt(e).code}).attr("d",rt),a.selectAll("text").data(Xe,function(e){return e}).enter().append("text").attr("class","label country-label").attr("alignment-baseline","central").style("text-anchor",nt).call(function(e){e.on("mouseover",function(){o.v(this).classed("text-hover",!0)}).on("mouseout",function(){o.v(this).classed("text-hover",!1)}).on("mouseup",function(e){if(Fe!==e){Fe=e;var t=gt(e).code;o.v(".country-label.selected").classed("selected",!1),o.v(this).classed("selected",!0),o.w(".heatmap-ring-path.selected:not(.".concat(ze,")")).classed("selected",!1),o.w(".heatmap-ring-path.".concat(t)).classed("selected",!0),Ct.updateOnCountryChange(e)}})}).append("textPath").attr("class","country-label-textpath").attr("startOffset","50%").attr("xlink:href",function(e){return"#country-label-path-"+gt(e).code}).text(function(e){return e}),n=o.v(".heatmap-ring").append("g").attr("class","heatmap-ring-indicator-labels").attr("transform","rotate(".concat(He,")")),n.selectAll("def").data(Ue).enter().append("def").append("path").attr("class","radial-label-path").attr("id",function(e,t){return"radial-label-path-"+t}).attr("d",ot),n.selectAll("text").data(Ue,function(e){return e}).enter().append("text").attr("class","label label-radial").style("text-anchor","end").attr("alignment-baseline","central").call(function(e){e.on("mouseover",function(){o.v(this).classed("text-hover",!0)}).on("mouseout",function(){o.v(this).classed("text-hover",!1)}).on("mouseup",function(e){if(ze===e)Be=!Be;else{ze=e;var t=Fe?gt(Fe).code:"";o.v(".label-radial.selected").classed("selected",!1),o.v(this).classed("selected",!0),o.w(".heatmap-ring-path.selected".concat(t?":not(."+t:"")).classed("selected",!1),o.w(".heatmap-ring-path.".concat(e)).classed("selected",!0)}it(e)})}).append("textPath").attr("xlink:href",function(e,t){return"#radial-label-path-"+t}).attr("startOffset","100%").text(function(e){return f[e].label});var n;var a}},yt=120;var bt={init:function(e,t){e,t,e.append("g").attr("class","comparator-ring").append("circle").attr("class","comparator-ring-circle").attr("fill","transparent").attr("stroke","lightgray").attr("stroke-width",1).attr("cx",0).attr("cy",0).attr("r",yt)},handleIndicatorChange:function(e,t){e}},wt=null,xt=null,Et=null,St=null;function kt(){return Et?wt.dataItems.filter(function(e){return e.country===Et}).filter(function(e){return"Total"!==e.indicator}):null}var Ct={_init:function(e,t){var n=t.width,a=t.height,r=120,i=120;St=t,wt=t.data;var l=t.data.indicators,s=o.v(e).append("svg").attr("class","radial-graph").attr("width",n+r+i).attr("height",a).append("g").attr("transform","translate(".concat(.5*n,", ").concat(.5*a,")"));je.init(s,kt(),l),vt.init(s,t.data)},updateOnCountryChange:function(e){Et=e,je.updateOnCountryChange(kt(),Et),St.setCurrentCountry(e)},updateOnIndicatorChange:function(e){xt=e,St.setCurrentIndicator(e),bt.handleIndicatorChange(wt.dataItems.filter(function(e){return e.indicator===xt}),xt)}};function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function At(e){var t=e.indicator,n=e.country,o=Ot(Object(a.useState)(!1),2),i=o[0],l=o[1],s=Ot(Object(a.useState)(null),2),c=s[0],u=s[1];return Object(a.useEffect)(function(){u(f[t])},[t]),r.a.createElement("div",{className:"wdvp-panel"},!i&&r.a.createElement("div",{className:"wdvp-panel wdvp-panel--collapsed",onClick:function(){return l(!0)}},"info"),i&&r.a.createElement("div",{className:"wdvp-panel wdvp-panel--expanded"},r.a.createElement("span",{className:"close",onClick:function(){return l(!1)}},"close"),!n&&!c&&r.a.createElement("div",{className:"panel-info empty"},r.a.createElement("p",null,"This is information panel where you'll find data about selected indicator and country."),r.a.createElement("p",null,"Select country or indicator on main graph by clicking its label to see details here.")),n&&r.a.createElement("div",{className:"panel-info"},r.a.createElement("h1",null,n.country),r.a.createElement("div",null,r.a.createElement("span",null,"Region: "),n.region),r.a.createElement("div",null,r.a.createElement("span",null,"Subregion: "),n.subregion),r.a.createElement("div",null,r.a.createElement("span",null,"Population: "),N(n.population,0)),r.a.createElement("div",null,r.a.createElement("span",null,"Area (km2): "),N(n.surfacearea,0)),r.a.createElement("div",null,r.a.createElement("span",null,"GDP ($bln PPP): "),N(n.GDP))),c&&r.a.createElement("div",{className:"panel-info"},r.a.createElement("h1",null,c.label," ",c.unit?"(".concat(c.unit,")"):""),r.a.createElement("div",null,r.a.createElement("span",null,"Source: "),r.a.createElement("a",{href:c.url,rel:"noopener noreferrer",target:"_blank"},c.source),r.a.createElement("span",null," (",c.year,")")),r.a.createElement("div",null,r.a.createElement("span",null,"Description: "),r.a.createElement("p",null,c.description),r.a.createElement("p",null,c.details)))))}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Pt(){var e=function(){var e=It(Object(a.useState)(window.pageYOffset),2),t=e[0],n=e[1];return Object(a.useEffect)(function(){var e=function(e){n(e.srcElement.scrollTop)};return window.addEventListener("scroll",e,!0),function(){window.removeEventListener("scroll",e)}},[]),t}(),t=It(Object(a.useState)(window.innerWidth),1)[0],n=It(Object(a.useState)(window.innerHeight),1)[0],i=It(Object(a.useState)(null),2),l=i[0],s=i[1],c=It(Object(a.useState)(null),2),u=c[0],d=c[1],p=It(Object(a.useState)(null),2),f=p[0],h=p[1],m=Object(a.useRef)(null),g=function(e){var t=l.rawData.find(function(t){return t.country===e});d(t)};return Object(a.useEffect)(function(){o.e(";",v,C).then(O).then(function(e){var t=e.dataItems,n=e.indicators,a=e.rawData;s({dataItems:t,indicators:n,rawData:a})})},[]),Object(a.useEffect)(function(){l&&Ct._init(m.current,{data:l,width:t,height:n,setCurrentCountry:g,setCurrentIndicator:h})},[l]),r.a.createElement("div",{className:"radial-screen parallax svg-parallax"},r.a.createElement("div",{id:"radial-container",ref:m}),e>3.7*window.innerHeight&&e<4.05*window.innerHeight&&r.a.createElement(At,{country:u,indicator:f}))}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qt(){var e=function(){var e=Tt(Object(a.useState)(window.pageYOffset),2),t=e[0],n=e[1];return Object(a.useEffect)(function(){var e=function(e){n(e.srcElement.scrollTop)};return window.addEventListener("scroll",e,!0),function(){window.removeEventListener("scroll",e)}},[]),t}();return r.a.createElement("div",{className:"wdvp-app"},r.a.createElement("span",{style:{position:"fixed"}},e),r.a.createElement("section",{className:"screen"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"What makes a good government?"),r.a.createElement("p",null,"What powers successful governments? How is that success measured? "),r.a.createElement("p",null,"How do you measure the success of governments? Effective spending? Social wellbeing? International competitiveness? What factors seems most relevant or interesting to you? Are there any 2 or 3 contrasting variables that reveal something interested? Which countries come up again and again? Which are outliers?")),0===e&&r.a.createElement("div",{className:"scroll-info"},"scroll down to start")),r.a.createElement("section",{className:"screen"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Good Government indicators"),r.a.createElement("p",null,"In order to explore the topic let's test following statement:",r.a.createElement("blockquote",null,r.a.createElement("i",null,"A good government is the one that maximizes social development (culture, science, wellbeing) and economical wealth with minimal social burden (government size) and minimal impact on environment."))),r.a.createElement("p",null,"Do you agree with it? I do. "),r.a.createElement("p",null,"Before we begin however there is one small issue - out of given 30 indicators only one, Happy Planet Index, considers environmental impact when assessing human development."),r.a.createElement("p",null,"This is done by discounting wellbeing, life expectancy and inequality of incomes by ecological footprint of consumption."),r.a.createElement("p",null,"Hmm that's allright but aren't we undervaluing our impact on Mother Earth a bit?"),r.a.createElement("p",null,"To fix this bias let's add 3 more environmental indicators: CO2 emissions per person (World Bank), Renewables as part of energy output (World Bank) and Ecological Footprint of Consumption per person (Global Footprint Network)."),r.a.createElement("p",null,"Below is a quick sketch of indicators grouped by their domain: society, economy, government size and environment."),r.a.createElement("p",null,"My hand was a bit shaky but I hope you'll get a big picture. ")),e<=window.innerHeight&&r.a.createElement("div",{className:"scroll-info"},"scroll down for more")),r.a.createElement("div",{className:"parallax",id:"p1"}),r.a.createElement("section",{className:"screen"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"In the heat of the indicators"),r.a.createElement("p",null,"Wow, that's a lot of measurements to handle."),r.a.createElement("p",null,"On the following screen you will see a heatmap graph of countries and their 'good government' indicators."),r.a.createElement("p",null,"Feel free to navigate through the graph, all data points and labels are interactive. "),r.a.createElement("p",null,"You can choose a country to see detailed set of its measures in the center."),r.a.createElement("p",null,"You can also sort countries by clicking indicator label. This action will sort countries from best (most saturated) to worst. If data is not available for given country, then it will appear on the left-hand side."),r.a.createElement("p",null,"Countries leading in selected indicator will appear on right-side (until you click indicator again so countries flip)."),r.a.createElement("p",null,"Let's dive deep into the world of data."))),r.a.createElement(Pt,null),r.a.createElement("section",{className:"screen"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Total Score"),r.a.createElement("p",null,"Uh, that was a bit overwhelming... so much data... and what was that indicator on the top? A 'Total Score'? "),r.a.createElement("p",null,"A Total Score is measured simply by summing up normalized value (0...1) of all listed indicators. Indicators were flipped if needed (ie. when indicator is better when lower)."),r.a.createElement("p",null,"Sorting countries by Total Score reveals interesting pattern: 5 out of top 10 countries are from Scandinavia. All of scandinavian countries are in top of the list. Wow!"),r.a.createElement("p",null,"But why? Aren't they all cold out there? What can we learn from those societies and their governments? How do those countries use their wealth and resources?"),r.a.createElement("p",null,"Here are our winners:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Norway"),r.a.createElement("li",null,"Finland"),r.a.createElement("li",null,"Sweden"),r.a.createElement("li",null,"Switzerland"),r.a.createElement("li",null,"Austria"),r.a.createElement("li",null,"New Zealand"),r.a.createElement("li",null,"Denmark"),r.a.createElement("li",null,"Germany"),r.a.createElement("li",null,"Iceland"),r.a.createElement("li",null,"Netherlands")),r.a.createElement("p",null,"I'm sure you've found many other interesting countries."),r.a.createElement("p",null,"For example ones from Latin America, Costarica placed 11th."))),r.a.createElement("section",{className:"screen"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"The Scatterplot"),r.a.createElement("p",null,"Last but not least - a Scatterplot graph. It allows to explore further data by comparing correlations of indicators. "),r.a.createElement("p",null,"Beware, from its dropdowns you can pick even more indicators to compare, so better grab a cup of tea..."),r.a.createElement("p",null,"Technical notes: by clicking a data point you can mark a country to visually track it when changing x and y axis categories."),r.a.createElement("p",null,"Note that for some categories data is missing. In such case, if you select size/color category, the datapoint will be semi-transparent. if there is no data for x or y category then data point will not be visible at all. "))),r.a.createElement(ve,null),r.a.createElement("section",{className:"screen"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Sustainability"),r.a.createElement("p",null,"What is interesting to notice is relation between GDP per person and CO2 emissions. The more developed countries are the more they're impacting environment... This seems to be a bit contrary having in mind technology and finance avalable for wealthy countries, isn't it? It raises a question:"),r.a.createElement("blockquote",null,"Is using up natural resources the only way of human growth? "),r.a.createElement("p",null,"I encourage you to pick Happy Planet Index on Y axis vs GDP per capita on X. "),r.a.createElement("p",null,"Do you see Costarica at the top? Perhaps it does not score the best in GDP per capita but certainly is remarkable for growing in most environmently sustainable way."),r.a.createElement("p",null,"Some of our winners - Norway, Switzerland, Netherlands are more on the top-right side of the graph - squeezed more of GDP per capita with only slight decrease of HPI. This is probable the best place to be. The top-right side of the scatterplot. "),r.a.createElement("p",null,"What's that little one the bottom? Luxembourg? Outstanding city-sized country with great wealth. Unfortunately worst performer when discounting its growth by ecological footprint."),r.a.createElement("p",null,"For me the most successful government is the one that will be able not only to create a wealth for its society but will encourage sustainable growth and will show path to growth unrelated to environment exploitation."))))}At.propTypes={indicator:be.a.string,country:be.a.object},Pt.propTypes={scroller:be.a.number},n.d(t,"default",function(){return qt})}});